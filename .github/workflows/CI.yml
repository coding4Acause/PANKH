name: CI

on: [push, pull_request]

jobs:
  build-and-test:
    runs-on: ubuntu-latest

    steps:
    - name:  Checkout repository
      uses: actions/checkout@v3

    - name:  Install dependencies (Intel oneAPI or use g++)
      run: |
        sudo apt update
        sudo apt install -y g++     

    - name:  Compile the main solver
      run: |
        mkdir -p output_files
        g++ -o PANKH_solver src/*.cpp -Iinclude -std=c++11

    - name:  Compile the test
      run: |
        g++ -o tests/test tests/test.cpp -std=c++11

    - name:  Run the test
      run: |
        ./tests/test
